{# Template pour le chargement AJAX - pas d'extension de base #}
<div class="admin-section">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="section-title mb-0">
            <i class="fas fa-box me-2"></i>Gestion du Catalogue Produits
        </h3>
        <button class="btn btn-primary" onclick="alert('Fonctionnalité à venir')">
            <i class="fas fa-plus me-2"></i>Nouveau Produit
        </button>
    </div>

    <div class="alert alert-warning mb-4">
        <i class="fas fa-construction me-2"></i>
        <strong>Interface en construction</strong> - Pour l'instant, utilisez l'API REST pour gérer les produits.
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h6 class="mb-0">
                        <i class="fas fa-api me-2"></i>API REST Disponible
                    </h6>
                </div>
                <div class="card-body">
                    <p>En attendant l'interface d'administration complète, vous pouvez utiliser l'API REST :</p>
                    
                    <div class="mb-3">
                        <strong>Endpoints disponibles :</strong>
                        <ul class="list-unstyled mt-2">
                            <li><span class="badge bg-success me-2">GET</span><code>/api/produits</code> - Liste des produits</li>
                            <li><span class="badge bg-primary me-2">POST</span><code>/api/produits</code> - Créer un produit</li>
                            <li><span class="badge bg-warning me-2">PUT</span><code>/api/produits/{id}</code> - Modifier un produit</li>
                            <li><span class="badge bg-danger me-2">DELETE</span><code>/api/produits/{id}</code> - Supprimer un produit</li>
                        </ul>
                    </div>
                    
                    <div class="d-grid">
                        <a href="/api/produits" target="_blank" class="btn btn-outline-primary">
                            <i class="fas fa-external-link-alt me-2"></i>Accéder à l'API
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h6 class="mb-0">
                        <i class="fas fa-lightbulb me-2"></i>Fonctionnalités Prévues
                    </h6>
                </div>
                <div class="card-body">
                    <p>L'interface d'administration des produits inclura :</p>
                    
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Création et modification de produits
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Gestion des catégories et familles
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Import/export en masse
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Gestion des tarifs et remises
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Historique des modifications
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Intégration avec le système de devis
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h6 class="mb-0">
                        <i class="fas fa-code me-2"></i>Exemple d'utilisation de l'API
                    </h6>
                </div>
                <div class="card-body">
                    <h6>Récupérer la liste des produits :</h6>
                    <pre class="bg-light p-3 rounded"><code>curl -X GET "{{ app.request.schemeAndHttpHost }}/api/produits" \
     -H "Accept: application/json"</code></pre>
                    
                    <h6 class="mt-4">Créer un nouveau produit :</h6>
                    <pre class="bg-light p-3 rounded"><code>curl -X POST "{{ app.request.schemeAndHttpHost }}/api/produits" \
     -H "Content-Type: application/json" \
     -d '{
       "code": "PROD-001",
       "nom": "Nouveau Produit",
       "description": "Description du produit",
       "prixUnitaire": 29.99,
       "type": "produit",
       "actif": true
     }'</code></pre>
                    
                    <div class="alert alert-info mt-3">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Note :</strong> L'authentification sera requise pour l'API en production.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Fonction pour tester l'API (développement)
function testApiCall() {
    fetch('/api/produits')
        .then(response => response.json())
        .then(data => {
            console.log('Produits récupérés:', data);
            alert(`API fonctionnelle ! ${data.length} produits trouvés. Voir la console pour les détails.`);
        })
        .catch(error => {
            console.error('Erreur API:', error);
            alert('Erreur lors de l\'appel à l\'API. Voir la console pour les détails.');
        });
}
</script>
{# Fin du template AJAX #}